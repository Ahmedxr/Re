<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat Bot 1.5</title>
<style>
body { margin:0; font-family:"Tahoma"; background:#111; color:white; }
header { text-align:center; padding:15px; background:#1a1a1a; font-size:22px; font-weight:bold; border-bottom:1px solid #333;}
#chatbox { height:50vh; overflow-y:auto; padding:15px; display:flex; flex-direction:column; }
.msg { padding:10px 12px; margin:5px 0; max-width:80%; border-radius:12px; line-height:1.4; word-wrap:break-word; }
.user { background:#007bff; align-self:flex-end; text-align:right; }
.ai { background:#333; align-self:flex-start; text-align:left; }
#controls { display:flex; padding:10px; background:#1a1a1a; border-top:1px solid #333; gap:5px; }
#controls input { flex:1; padding:12px; border:none; border-radius:10px; font-size:16px; outline:none; background:#222; color:white; }
#controls button { padding:0 15px; background:#0a84ff; color:white; border:none; border-radius:10px; font-size:16px; cursor:pointer; }
#homeWords { display:flex; flex-wrap:wrap; gap:5px; margin:5px 0; max-height:120px; overflow-y:auto; }
.wordBtn { background:#555; padding:5px 10px; border-radius:8px; cursor:pointer; }
#emailSection { display:flex; padding:10px; gap:5px; }
#emailSection input { flex:1; padding:10px; border-radius:10px; border:none; outline:none; }
#emailSection button { padding:0 15px; border-radius:10px; border:none; background:#0a84ff; color:white; cursor:pointer; }
</style>
</head>
<body>

<header>ğŸ¤– Chat Bot 1.5</header>

<div id="emailSection">
  <input id="emailInput" placeholder="Ø§Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ...">
  <button onclick="onRegisterClick()">Ø³Ø¬Ù„</button>
</div>

<div id="homeWords"></div>

<div id="chatbox"></div>

<div id="controls">
  <input id="prompt" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
  <button onclick="sendMsg()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("IHX7vQCj6HLK_TJGN"); // Public Key
const SERVICE_ID = "service_28lleeh"; // Service ID
const TEMPLATE_ID = "template_z942frk"; // Template ID

let registered = false;

function generateCode(){ return Math.floor(100000 + Math.random()*900000); }

function onRegisterClick(){
  const email = document.getElementById("emailInput").value;
  if(!email){ alert("Ø§Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯ ØµØ­ÙŠØ­!"); return; }
  const code = generateCode();
  emailjs.send(SERVICE_ID, TEMPLATE_ID, { user_name: email, code: code })
  .then(()=>{ alert("âœ”ï¸ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù„Ø¨Ø±ÙŠØ¯Ùƒ!"); registered=true; })
  .catch((err)=>{ alert("âŒ Ø®Ø·Ø£ Ø¨Ø§Ù„Ø§ØªØµØ§Ù„! ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§Ù†ØªØ±Ù†Øª"); console.log(err); });
}

// Chat Bot
const API_KEY = "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";

async function sendMsg(){
  if(!registered){ alert("âŒ Ø³Ø¬Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø£ÙˆÙ„Ø§Ù‹!"); return; }
  let text = document.getElementById("prompt").value.trim();
  if(!text) return;
  document.getElementById("chatbox").innerHTML += `<div class='msg user'>${text}</div>`;
  document.getElementById("prompt").value="";
  const response = await fetch("https://api.openai.com/v1/chat/completions", {
    method:"POST",
    headers:{ "Content-Type":"application/json", "Authorization":"Bearer "+API_KEY },
    body:JSON.stringify({ model:"gpt-3.5-turbo", messages:[{role:"user", content:text}] })
  });
  const data = await response.json();
  let reply = data.choices?.[0]?.message?.content || "âŒ Ø®Ø·Ø£ØŒ ØªØ§ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­!";
  document.getElementById("chatbox").innerHTML += `<div class='msg ai'>${reply}</div>`;
  document.getElementById("chatbox").scrollTop = document.getElementById("chatbox").scrollHeight;
}

// 100 ÙƒÙ„Ù…Ø© Ø¬Ø§Ù‡Ø²Ø©
const words = [
"Ù…Ø±Ø­Ø¨Ø§","Ø´Ù„ÙˆÙ†Ùƒ","Ø§Ø³Ù…Ùƒ","ÙˆÙŠÙ† ØªØ³ÙƒÙ†","Ø´ÙƒÙˆ Ù…Ø§ÙƒÙˆ","Ø§Ø­Ø¬ÙŠÙ„Ù†Ø§","Ø³ÙˆÙŠ","ØªØ¹Ù„ÙŠÙ…","Ù„Ø¹Ø¨","Ù…Ø¯Ø±Ø³Ø©",
"Ø¨ÙŠØª","Ø§ÙƒÙ„","Ø±ÙŠØ§Ø¶Ø©","ØµØ¯ÙŠÙ‚","Ù„Ø¹Ø¨Ù‡","ÙˆÙ‚Øª ÙØ±Ø§Øº","Ø±Ø­Ù„Ø©","ÙƒØªØ§Ø¨","ÙÙŠÙ„Ù…","Ù…ÙˆØ³ÙŠÙ‚Ù‰",
"ØªÙ‚Ù†ÙŠÙ‡","ÙƒÙ…Ø¨ÙŠÙˆØªØ±","ØªØ·Ø¨ÙŠÙ‚","Ù…ÙˆØ¨Ø§ÙŠÙ„","Ø§Ù†ØªØ±Ù†Øª","Ø³ÙØ±","Ø­ÙŠÙˆØ§Ù†","Ø­Ù‚ÙŠØ¨Ø©","Ø´Ù…Ø³","Ù‚Ù…Ø±",
"Ø³Ù…Ø§Ø¡","Ù†Ø¬ÙˆÙ…","Ù‚Ù‡ÙˆØ©","Ø´Ø§ÙŠ","Ø¹ØµÙŠØ±","ØªÙ…Ø±","Ø®Ø¨Ø²","Ù„Ø­Ù…","Ø¯Ø¬Ø§Ø¬","ÙÙˆØ§ÙƒÙ‡","Ø®Ø¶Ø§Ø±",
"Ù„Ø¹Ø¨ ÙƒØ±Ø©","Ù…ØºØ§Ù…Ø±Ø©","Ø±Ø­Ù„Ø© Ø¨Ø­Ø±","Ø±Ø­Ù„Ø© Ø¬Ø¨Ù„","Ø¨Ø±Ù…Ø¬Ù‡","ØªØµÙ…ÙŠÙ…","ÙÙ†","Ø±Ø³Ù…","ÙƒØªØ§Ø¨Ø©","Ù‚Ø±Ø§Ø¡Ø©",
"ØªØ§Ø±ÙŠØ®","Ø¬ØºØ±Ø§ÙÙŠØ§","Ø¹Ù„ÙˆÙ…","ÙÙŠØ²ÙŠØ§Ø¡","ÙƒÙŠÙ…ÙŠØ§Ø¡","Ø±ÙŠØ§Ø¶ÙŠØ§Øª","Ù„ØºØ©","ØªØ¹Ù„ÙŠÙ…","ØªØ¬Ø§Ø±Ø¨","ØªØ¬Ø±Ø¨Ø©",
"Ø³ÙŠØ§Ø±Ø©","Ø¯Ø±Ø§Ø¬Ø©","Ù…ÙˆØ§ØµÙ„Ø§Øª","Ø³ÙˆÙ‚","Ù…Ø­Ù„","Ù…Ø·Ø¹Ù…","Ø·Ø¨Ø®","Ø¹Ø§Ø¦Ù„Ø©","Ø£ØµØ¯Ù‚Ø§Ø¡","Ø­Ø¨","Ø³Ù„Ø§Ù…",
"Ù…Ø±Ø­","ÙØ±Ø­","Ø­Ø²Ù†","ØºØ¶Ø¨","Ø®ÙˆÙ","Ø¯Ù‡Ø´Ø©","ÙØ¶ÙˆÙ„","Ù…Ø±Ø­Ù„Ø©","Ø§Ø®ØªØ¨Ø§Ø±","Ù…ØºØ§Ù…Ø±Ø©","Ø§ÙƒØªØ´Ø§Ù",
"Ø±Ø­Ù„Ø©","ØªØ³ÙˆÙ‚","Ù…ÙƒØªØ¨Ø©","Ù…ØªØ­Ù","ÙÙŠÙ„Ù…","Ø¹Ø±Ø¶","Ù…ÙˆØ³ÙŠÙ‚Ù‰","Ø£ØºÙ†ÙŠØ©","Ø±Ù‚Øµ","ØªÙ…Ø«ÙŠÙ„","ÙƒÙˆÙ…ÙŠØ¯ÙŠØ§",
"Ù…Ø³Ø§Ø¨Ù‚Ø©","Ù„Ø¹Ø¨Ø©","Ù‡ÙˆØ§ÙŠØ©","Ø±ÙŠØ§Ø¶Ø©","ÙƒØ±Ø© Ù‚Ø¯Ù…","ÙƒØ±Ø© Ø³Ù„Ø©","Ø³Ø¨Ø§Ø­Ø©","ØºÙˆØµ","ØªØ®ÙŠÙŠÙ…","ØªØ³Ù„Ù‚",
"ØªØµÙˆÙŠØ±","ÙƒØ§Ù…ÙŠØ±Ø§","Ù‡Ø§ØªÙ","ØªØ·Ø¨ÙŠÙ‚","Ø¨Ø±Ù…Ø¬Ù‡","Ø°ÙƒØ§Ø¡","Ø±ÙˆØ¨ÙˆØª","Ø­Ø§Ø³ÙˆØ¨","Ø¥Ù†ØªØ±Ù†Øª","Ù…ÙˆØ¨Ø§ÙŠÙ„",
"Ø¨Ø±Ù†Ø§Ù…Ø¬","ØªÙ„ÙØ²ÙŠÙˆÙ†","ÙÙŠÙ„Ù…","Ø¹Ø±Ø¶","ÙƒØªØ§Ø¨","Ù…Ù‚Ø§Ù„","Ø®Ø¨Ø±","ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§","ØªØ·ÙˆÙŠØ±","ØªØ¬Ø±Ø¨Ø©"
];
const homeWordsDiv = document.getElementById("homeWords");
words.forEach(word=>{
  const btn = document.createElement("button");
  btn.textContent=word;
  btn.className="wordBtn";
  btn.onclick=()=>{ document.getElementById("prompt").value+=word+" "; };
  homeWordsDiv.appendChild(btn);
});
</script>

</body>
</html>
