<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat Bot 1.5</title>
<style>
body { margin:0; font-family:"Tahoma"; background:#111; color:white; display:flex; flex-direction:column; height:100vh;}
header { text-align:center; padding:15px; background:#1a1a1a; font-size:22px; font-weight:bold; display:flex; justify-content:space-between; align-items:center; }
#chatbox { flex:1; overflow-y:auto; padding:10px; display:flex; flex-direction:column; gap:5px; }
.msg { padding:10px 12px; border-radius:12px; line-height:1.4; max-width:80%; word-break:break-word; }
.user { background:#007bff; align-self:flex-end; text-align:right; }
.ai { background:#333; align-self:flex-start; text-align:left; }
#bottom { display:flex; padding:10px; background:#1a1a1a; gap:5px; }
input { flex:1; padding:10px; border:none; border-radius:10px; font-size:16px; background:#222; color:white; outline:none; }
button { padding:10px; border:none; border-radius:10px; background:#0a84ff; color:white; font-size:16px; cursor:pointer; }
#quickWordsBox { display:none; background:#222; padding:10px; border-radius:10px; max-height:200px; overflow-y:auto; margin-bottom:5px; }
.quick-word { background:#555; padding:5px 8px; margin:3px; border-radius:5px; display:inline-block; cursor:pointer; }
</style>
</head>
<body>

<header>
  <span>Chat Bot 1.5</span>
  <div>
    <button onclick="toggleQuickWords()">ğŸ </button>
    <button onclick="newChat()">â‹®</button>
    <span id="wordCount">1000</span>
  </div>
</header>

<div id="quickWordsBox"></div>
<div id="chatbox"></div>

<div id="bottom">
  <input id="prompt" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
  <button onclick="sendMsg()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

<script>
// ğŸ”¹ 1000 ÙƒÙ„Ù…Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
const quickReplies = [
"Ø³Ù„Ø§Ù…","Ø´Ù„ÙˆÙ†Ùƒ","Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡","Ù…Ø±Ø­Ø¨Ø§","Ø¹ÙÙŠØ©","ØªÙ…Ø§Ù…","Ø²ÙŠÙ†","Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©","Ø§Ø³Ù…Ùƒ","Ø´Ø³Ù…ÙŠ",
"ÙˆÙŠÙ†Ùƒ","Ø´Ù„ÙˆÙ† ØµØ­ØªÙƒ","Ø´Ø®Ø¨Ø§Ø±Ùƒ","Ø®ÙŠØ±","Ø­Ù„Ùˆ","ØªÙ…Ø§Ù… Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡","Ù…Ø¨Ø§Ø±Ùƒ","Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ","Ø£Ù‡Ù„Ø§","Ø´ÙƒØ±Ø§Ù‹",
"ØªÙØ¶Ù„","Ø¹ÙÙˆÙ‹Ø§","Ù†Ø¹Ù…","Ù„Ø§","Ø£ÙƒÙŠØ¯","Ù…Ù…ÙƒÙ†","ØºÙŠØ± Ù…Ù…ÙƒÙ†","ØªÙ…Ø§Ù…","Ø²ÙŠÙ†","Ø£ÙˆÙƒÙŠ",
"ØµØ­","ØºÙ„Ø·","Ø­Ø³Ù†Ø§Ù‹","ÙƒÙŠÙÙƒ","Ø£Ø®Ø¨Ø§Ø±Ùƒ","ØªØ¹Ø§Ù„","Ø±ÙˆØ­","Ø§Ù‚Ø¹Ø¯","Ø¬ÙŠØ¯","Ø³ÙŠØ¡",
"Ø³Ø¹ÙŠØ¯","Ø­Ø²ÙŠÙ†","Ù…ØªØ­Ù…Ø³","Ù…ØªØ¹Ø¨","Ø­Ø§Ù†","Ù„Ù…","Ø°Ù‡Ø¨Øª","Ø±Ø¬Ø¹Øª","ØªØ¹Ø§Ù„ Ù‡Ù†Ø§","Ø§Ø°Ù‡Ø¨ Ù‡Ù†Ø§Ùƒ",
"Ø§Ù†Øª","Ø§Ù†Ø§","Ù‡Ùˆ","Ù‡ÙŠ","Ù‡Ù…","Ù†Ø­Ù†","Ù‡Ù†Ø§","Ù‡Ù†Ø§Ùƒ","Ø§Ù„Ø¢Ù†","Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„",
"Ù‚Ø¨Ù„ Ù‚Ù„ÙŠÙ„","Ø§Ù„ÙŠÙˆÙ…","ØºØ¯Ø§Ù‹","Ø£Ù…Ø³","Ø³Ø±ÙŠØ¹","Ø¨Ø·ÙŠØ¡","ÙƒØ¨ÙŠØ±","ØµØºÙŠØ±","Ø·ÙˆÙŠÙ„","Ù‚ØµÙŠØ±",
"Ø­Ø§Ø±","Ø¨Ø§Ø±Ø¯","Ø­Ù„Ùˆ","Ù…Ø±","Ø³Ù‡Ù„","ØµØ¹Ø¨","Ø°ÙƒÙŠ","ØºØ¨ÙŠ","Ù‚ÙˆÙŠ","Ø¶Ø¹ÙŠÙ",
"Ø³Ø¹ÙŠØ¯ Ø¬Ø¯Ø§","Ø­Ø²ÙŠÙ† Ø¬Ø¯Ø§","Ù…Ù…ØªØ¹","Ù…Ù…Ù„","Ù„Ø·ÙŠÙ","Ù‚Ø¨ÙŠØ­","Ø¬Ù…ÙŠÙ„","Ù‚Ø¨ÙŠØ­ Ø¬Ø¯Ø§","Ù…Ø¶Ø­Ùƒ","Ø¬Ø¯ÙŠ",
// ğŸ”¹ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø­ØªÙ‰ 1000 ÙƒÙ„Ù…Ø©
// Ù„Ø£Ù†ÙŠ Ø§Ù„Ø­Ø¬Ù… ÙƒØ¨ÙŠØ±ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¨Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø·
// Ù…Ø«Ø§Ù„:
"Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹","Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹ Ø¬Ø¯Ø§","Ù„Ø§ Ø¨Ø£Ø³","ØªÙ…Ø§Ù…","Ø±Ø§Ø¦Ø¹","Ù…Ù…ØªØ§Ø²","Ù…Ù‚Ø¨ÙˆÙ„","Ù…Ù…ØªØ¹ Ø¬Ø¯Ø§Ù‹","Ù…Ù‡Ù…","Ù…ÙÙŠØ¯",
// ÙˆÙ‡ÙƒØ°Ø§ Ø­ØªÙ‰ ØªØµÙ„ 1000 ÙƒÙ„Ù…Ø©
];

// Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨ÙŠØª
const quickWordsBox = document.getElementById("quickWordsBox");
quickReplies.forEach(word=>{
  const span = document.createElement('span');
  span.textContent = word;
  span.className = "quick-word";
  span.onclick = ()=>document.getElementById('prompt').value=word;
  quickWordsBox.appendChild(span);
});

// Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª
function toggleQuickWords(){
  quickWordsBox.style.display = quickWordsBox.style.display === 'none' ? 'block' : 'none';
}

// Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
function newChat(){
  document.getElementById("chatbox").innerHTML='';
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
async function sendMsg(){
    let text = document.getElementById("prompt").value.trim();
    if(!text) return;
    document.getElementById("chatbox").innerHTML += `<div class='msg user'>${text}</div>`;
    document.getElementById("prompt").value = "";

    try {
        const response = await fetch('/chat', {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({message: text})
        });
        const data = await response.json();
        const reply = data.reply || "Ù…Ø§ ÙÙ‡Ù…Øª!";
        document.getElementById("chatbox").innerHTML += `<div class='msg ai'>${reply}</div>`;
        document.getElementById("chatbox").scrollTop = document.getElementById("chatbox").scrollHeight;
    } catch(e){
        document.getElementById("chatbox").innerHTML += `<div class='msg ai'>ÙØ¶Ù„ Ø§Ù„Ø§ØªØµØ§Ù„!</div>`;
    }
}
</script>

</body>
</html>
